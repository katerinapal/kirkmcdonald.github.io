<html><head>
    <meta charset="utf-8">
    <title>Factorio Calculator</title>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="calc.css">
    <link rel="stylesheet" type="text/css" href="dropdown.css">

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</head>

<!--Copyright 2015-2019 Kirk McDonald

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.-->

<body>
    <table>
    <tbody><tr>
    <td id="targetparent">
    <ul id="targets" class="targets"><li><button class="targetButton ui" title="Add new item." id="+">+</button></li></ul>
    </td>

    <td class="changecell" id="Recent changes: 2019-07-30 - Updated 0.17 data to 0.17.60 (default is still 0.16)">
    <div class="changebox" id="Recent changes: 2019-07-30 - Updated 0.17 data to 0.17.60 (default is still 0.16)">
    Recent changes:<br>
    2019-07-30 - Updated 0.17 data to 0.17.60 (default is still 0.16)
    </div>
    </td>
    </tr>
    </tbody></table>

    <div class="tabs" id="Factory Visualize Settings FAQ About Debug">
        <button class="tab_button" id="totals_button">Factory</button>
        <!--<button class="tab_button" id="steps_button" onclick="clickTab('steps_tab')">Items</button>-->
        <button class="tab_button" id="graph_button">Visualize</button>
        <button class="tab_button" id="settings_button">Settings</button>
        <button class="tab_button" id="faq_button">FAQ</button>
        <button class="tab_button" id="about_button">About</button>
        <button class="tab_button" id="debug_button">Debug</button>
    </div>

    <div id="steps_tab" class="tab">
        <table id="steps"></table>
        <div id="waste"></div>
    </div>

    <div id="totals_tab" class="tab">
        <table id="totals"></table>
        <span class="displaylink" id="[CSV]">[<a id="CSV">CSV</a>]</span>
        <div id="csv_box" style="display: none;"><textarea id="csv" readonly></textarea></div>
    </div>

    <div id="graph_tab" class="tab graph">
        <div id="graph-wrapper">
            <div class="graph-button">
                <span class="graph-button-span">
                    <svg class="gear" viewbox="0 0 32 32" width="32" height="32">
                        <use href="images/icons.svg#gear" />
                    </svg>
                </span>
            </div>
            <div class="graph-setting-box" id="Type: Sankey diagram Boxes and lines Direction: Horizontal Vertical Maximum node breadth: pixels Link length: pixels">
                <div class="graph-settings" id="Type: Sankey diagram Boxes and lines Direction: Horizontal Vertical Maximum node breadth: pixels Link length: pixels">
                    <div class="setting-label top" id="Type:">Type:</div>
                    <div>
                        <input type="radio" name="visualization" id="vis_sankey" value="sankey" checked>
                        <label for="vis_sankey" id="Sankey diagram">Sankey diagram</label><br>
                        <input type="radio" name="visualization" id="vis_box" value="box">
                        <label for="vis_box" id="Boxes and lines">Boxes and lines</label>
                    </div>

                    <div class="setting-label top" id="Direction:">Direction:</div>
                    <div>
                        <input type="radio" name="vis-direction" id="visdir_right" value="right" checked>
                        <label for="visdir_right" id="Horizontal">Horizontal</label><br>
                        <input type="radio" name="vis-direction" id="visdir_down" value="down">
                        <label for="visdir_down" id="Vertical">Vertical</label>
                    </div>

                    <div class="setting-label middle" id="Maximum node breadth:">Maximum node breadth:</div>
                    <div>
                        <input id="vis-node-breadth" class="length" type="number" min="0" title="Breadth of largest node in Sankey diagrams. Proportional to breadth of whole diagram."> pixels
                    </div>

                    <div class="setting-label middle" id="Link length:">Link length:</div>
                    <div>
                        <input id="vis-link-length" class="length" type="number" min="0" title="Distance between ranks in Sankey diagrams. Proportional to length of whole diagram."> pixels
                    </div>
                </div>
            </div>
            <div class="graph-content">
                <svg id="graph"></svg>
            </div>
        </div>
    </div>

    <div id="settings_tab" class="tab">
        <table>
        <tbody><tr>
        <td class="setting-label" id="Use recipe set:">Use recipe set:</td>
        <td><select id="data_set"></select></td>
        </tr>

        <tr>
        <td class="setting-label" id="Color scheme:">Color scheme:</td>
        <td><select id="color_scheme"></select></td>
        </tr>

        <tr>
        <td class="setting-label top" id="Display rates as:">Display rates as:</td>
        <td><form id="display_rate"></form></td>
        </tr>

        <tr>
        <td class="setting-label" id="Rate precision:">Rate precision:</td>
        <td><input id="rprec" class="prec" type="number" value="3" min="0"></td>
        </tr>
        <tr>
        <td class="setting-label" id="Factory precision:">Factory precision:</td>
        <td><input id="fprec" class="prec" type="number" value="1" min="0"></td>
        </tr>

        <tr>
        <td class="setting-label" id="Minimum assembling machine level:">Minimum assembling machine level:</td>
        <td><span id="minimum_assembler"></span></td>
        </tr>

        <tr>
        <td class="setting-label" id="Preferred furnace:">Preferred furnace:</td>
        <td><span id="furnace"></span></td>
        </tr>

        <tr>
        <td class="setting-label" id="Preferred fuel:">Preferred fuel:</td>
        <td><span id="fuel"></span></td>
        </tr>

        <tr>
        <td class="setting-label" id="Primary oil processing recipe:">Primary oil processing recipe:</td>
        <td><span id="oil"></span></td>
        </tr>

        <tr>
        <td class="setting-label" id="Enable Kovarex processing:"><label for="kovarex" id="Enable Kovarex processing:">Enable Kovarex processing:</label></td>
        <td><input type="checkbox" id="kovarex" checked></td>
        </tr>

        <tr>
        <td class="setting-label" id="Preferred belt:">Preferred belt:</td>
        <td><span id="belt"></span></td>
        </tr>

        <tr>
        <td class="setting-label" id="Minimum pipe length:">Minimum pipe length:</td>
        <td><input id="pipe_length" class="length" type="number" value="17" min="0"></td>
        </tr>

        <tr>
        <td class="setting-label" id="Mining productivity bonus:">Mining productivity bonus:</td>
        <td>+<input id="mprod" class="mprod" type="number" step="2" value="0" min="0">%</td>
        </tr>

        <tr>
        <td class="setting-label" id="Default module:">Default module:</td>
        <td><span id="default_module"></span></td>
        </tr>

        <tr>
        <td class="setting-label" id="Default beacon:">Default beacon:</td>
        <td><span id="default_beacon"></span> ? <input id="default_beacon_count" class="beacon" type="number" value="0"></td>
        </tr>

        <tr>
        <td class="setting-label top" id="Recipe sort order:">Recipe sort order:</td>
        <td><input type="radio" name="sort_order" id="topo_order" value="topo" checked>
        <label for="topo_order" id="Topological order">Topological order</label><br>
        <input type="radio" name="sort_order" id="alpha_order" value="alpha">
        <label for="alpha_order" id="Alphabetical order">Alphabetical order</label></td>
        </tr>

        <tr>
        <td class="setting-label top" id="Format values as:">Format values as:</td>
        <td><input type="radio" name="format" id="decimal_format" value="decimal" checked>
        <label for="decimal_format" id="Decimals">Decimals</label><br>
        <input type="radio" name="format" id="rational_format" value="rational">
        <label for="rational_format" id="Rationals">Rationals</label></td>
        </tr>

        <tr>
        <td class="setting-label" id="Fancy tooltips (requires refresh):"><label for="tooltip" id="Fancy tooltips (requires refresh):">Fancy tooltips (requires refresh):</label></td>
        <td><input type="checkbox" id="tooltip" checked></td>
        </tr>
        </tbody></table>
    </div>

    <div id="about_tab" class="tab">
    <div class="about-content" id="This calculator is copyright 2015-2019 Kirk McDonald. It is licensed under the Apache License 2.0, and its source may be found on github, here. This calculator is the result of a few years' worth of fooling around, off and on, with performing calculations using Factorio's recipe graph. You may find an essay on the subject, which outlines the techniques used in this calculator, here. Features of this calculator include: Proper handling of oil products. Obtaining numbers for these recipes can be tricky, as several of the items involved may be produced from multiple recipes. Support for modules, including beacons. Support for the mining productivity bonus, introduced in 0.15. Support for &amp;quot;expensive&amp;quot; mode. Arbitrary numerical precision. Calculations are performed using bigint rationals, so errors from floating-point calculations should not be an issue. Support for multiple simultaneous outputs. May display rates per second, minute, or hour.">
        This calculator is copyright 2015-2019 Kirk McDonald. It is licensed under the Apache License 2.0, and its source may be <a href="https://github.com/KirkMcDonald/kirkmcdonald.github.io" id="found on github, here">found on github, here</a>.
        <p>
        This calculator is the result of a few years' worth of fooling around, off and on, with performing calculations using Factorio's recipe graph. You may find an essay on the subject, which outlines the techniques used in this calculator, <a href="http://kirkmcdonald.github.io/posts/calculation.html" id="here">here</a>.
        </p><p>
        Features of this calculator include:
        </p><ul><li>Proper handling of oil products. Obtaining numbers for these recipes can be tricky, as several of the items involved may be produced from multiple recipes.
        </li><li>Support for modules, including beacons.
        </li><li>Support for the mining productivity bonus, introduced in 0.15.
        </li><li>Support for "expensive" mode.
        </li><li>Arbitrary numerical precision. Calculations are performed using bigint rationals, so errors from floating-point calculations should not be an issue.
        </li><li>Support for multiple simultaneous outputs.
        </li><li>May display rates per second, minute, or hour.</li></ul>
    </div>
    </div>

    <div id="faq_tab" class="tab">
    <div class="about-content" id="Do the numbers in the &amp;quot;beacons&amp;quot; column represent the number of modules or the number of beacons? They represent the number of modules. What does clicking on an item's icon in the &amp;quot;Factory&amp;quot; tab do? It omits the dependencies of that item's recipe from the solution. The intent behind this feature is to model the case of building a factory when you are shipping in one or more ingredients from elsewhere. For example, if you are making an advanced circuit factory and want to ship in electronic circuits, and want to see the remaining copper cable requirements on their own. Clicking on the icon a second time will restore its dependencies. This feature is not compatible with certain items, namely those that have no dependencies, and those that don't map one-to-one with a recipe. How do I interpret the pipe numbers on the &amp;quot;Factory&amp;quot; tab? Pipe throughput is inversely proportional to the length of the pipe. This means that the longer a pipe is, the more parallel lanes of pipes will be required. Say the solution calls for 7500 units of heavy oil per second. With the default &amp;quot;minimum pipe length&amp;quot; setting, the calculator will display a value of &amp;quot;[pipe] &amp;times; 7 ? 47.&amp;quot; This means you will need seven parallel lanes of pipes, each with a maximum length of 47 segments. The &amp;quot;minimum pipe length&amp;quot; setting controls the minimum number of segments that a pipe will be permitted before the calculator uses multiple lanes of pipes. It defaults to 17, which corresponds to a fluid rate of 1200/s, which is the output rate of an offshore pump. The number of pipes will be omitted if only one pipe is required. How can I give you money? I'm on Patreon. Thanks!">
        <h3>Do the numbers in the "beacons" column represent the number of modules or the number of beacons?</h3>
        They represent the number of modules.

        <h3>What does clicking on an item's icon in the "Factory" tab do?</h3>
        It omits the dependencies of that item's recipe from the solution. The intent behind this feature is to model the case of building a factory when you are shipping in one or more ingredients from elsewhere. For example, if you are making an advanced circuit factory and want to ship in electronic circuits, and want to see the remaining copper cable requirements on their own.
        <p>
        Clicking on the icon a second time will restore its dependencies.
        </p><p>
        This feature is not compatible with certain items, namely those that have no dependencies, and those that don't map one-to-one with a recipe.

        </p><h3>How do I interpret the pipe numbers on the "Factory" tab?</h3>
        Pipe throughput is inversely proportional to the length of the pipe. This means that the longer a pipe is, the more parallel lanes of pipes will be required.
        <p>
        Say the solution calls for 7500 units of heavy oil per second. With the default "minimum pipe length" setting, the calculator will display a value of "[pipe] ? 7 ? 47." This means you will need seven parallel lanes of pipes, each with a maximum length of 47 segments.
        </p><p>
        The "minimum pipe length" setting controls the minimum number of segments that a pipe will be permitted before the calculator uses multiple lanes of pipes. It defaults to 17, which corresponds to a fluid rate of 1200/s, which is the output rate of an offshore pump.
        </p><p>
        The number of pipes will be omitted if only one pipe is required.

        </p><h3>How can I give you money?</h3>
        <a href="https://www.patreon.com/kirkmcdonald" id="I'm on Patreon.">I'm on Patreon.</a> Thanks!
    </div>
    </div>

    <div id="debug_tab" class="tab">
        <label for="render_debug" id="Render debug tab:">Render debug tab:</label>
        <input type="checkbox" id="render_debug"><br>
        Last solution:
        <div id="solution"></div>
        Recipe matrixes:
        <div id="matrixes"></div>
    </div>

    <div id="display_count" style="color: var(--dark)">0</div>


<script src="calc.js"></script></body></html>